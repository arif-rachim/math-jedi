(this["webpackJsonpmath-jedi"]=this["webpackJsonpmath-jedi"]||[]).push([[0],{13:function(e,t,n){e.exports={root:"Input_root__1foEE",input:"Input_input__3nhed",label:"Input_label__qEcwg"}},15:function(e,t,n){e.exports={questionBox:"SessionScreen_questionBox__edXCE",content:"SessionScreen_content__34ABf",question:"SessionScreen_question__gr-5D",number:"SessionScreen_number__2o89z"}},18:function(e,t,n){e.exports={root:"Page_root__nR9AH",content:"Page_content__3cK0B",actions:"Page_actions__1KgjX"}},20:function(e,t,n){e.exports={button:"Button_button__Z6vcF"}},27:function(e,t,n){e.exports=n.p+"static/media/jedi.2c3e13cb.svg"},31:function(e,t,n){e.exports={table:"ReportScreen_table__1kiRX"}},32:function(e,t,n){e.exports=n(46)},37:function(e,t,n){},38:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(26),o=n.n(l);n(37),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=n(27),c=n.n(i);n(38);function s(){return r.a.createElement("div",{style:{fontFamily:"Star Jedi",fontSize:52}},"Math Jedi")}var u=n(9),d=n(20),m=n.n(d),g=n(10);function f(e){var t=e.children,n=e.onClick,a=Object(u.a)(e,["children","onClick"]);return r.a.createElement("button",Object.assign({className:m.a.button,onClick:n},a),t)}function v(e){var t=e.children,n=e.to,a=Object(u.a)(e,["children","to"]);return r.a.createElement(g.b,Object.assign({to:n,className:m.a.button},a),t)}var b=n(11),h=n(3),E=n(7);function p(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var O=n(2),x={student:{name:"",email:"",config:{questionsRange:{start:10,end:99},totalSums:200,totalQuestionsEachSum:6,percentageOfQuestionInNegative:30},currentSessionId:null},sessions:[]},j=Object(a.createContext)();function y(e){var t=e.children,n=Object(a.useState)((function(){return localStorage.getItem("math-jedi")?JSON.parse(localStorage.getItem("math-jedi")):x})),l=Object(E.a)(n,2),o=l[0],i=l[1];return Object(a.useEffect)((function(){o&&localStorage.setItem("math-jedi",JSON.stringify(o))}),[o]),r.a.createElement(j.Provider,{value:{state:o,setState:i}},t)}function S(e){var t=e.questionsRange,n=t.start,a=t.end,r=e.totalSums,l=e.totalQuestionsEachSum,o=e.percentageOfQuestionInNegative,i=function e(t){var n=t.start,a=t.end,r=t.percentageOfQuestionInNegative,l=t.total,o=t.prevNumber,i=Math.random()<=r/100,c=Math.round(Math.random()*(a-n)+n),s=c*(i?-1:1);return s+l<0||Math.abs(o)===c?e({start:n,end:a,percentageOfQuestionInNegative:r,total:l,prevNumber:o}):s};return Object(b.a)(Array(r).keys()).map((function(){return function(e){for(var t=e.start,n=e.end,a=e.percentageOfQuestionInNegative,r=e.totalQuestionsEachSum,l=[],o=0,c=0,s=0;s<r;s++){var u=i({start:t,end:n,percentageOfQuestionInNegative:a,total:o,prevNumber:c});c=u,o+=u,l.push(u)}return l}({totalQuestionsEachSum:l,percentageOfQuestionInNegative:o,end:a,start:n})}))}var C={left:"flex-start",center:"center",right:"flex-end"},w={top:"flex-start",center:"center",bottom:"flex-end"};function A(e){var t=e.children,n=e.heightFull,a=e.horizontalAlign,l=e.verticalAlign,o=e.gap,i=e.style,c=Object(u.a)(e,["children","heightFull","horizontalAlign","verticalAlign","gap","style"]),s={display:"flex",flexDirection:"column",height:n?"100%":"none"};return a in C&&(s.alignItems=C[a]),l in w&&(s.justifyContent=w[l]),o>0&&(t=t.map((function(e,t){if(t>0){var n,a,l=null!==(n=null===e||void 0===e||null===(a=e.props)||void 0===a?void 0:a.style)&&void 0!==n?n:{};return r.a.cloneElement(e,{key:t,style:Object(h.a)({marginTop:o},l)})}return e}))),r.a.createElement("div",Object.assign({style:Object(h.a)(Object(h.a)({},s),i)},c),t)}var N={left:"flex-start",center:"center",right:"flex-end"},k={top:"flex-start",center:"center",bottom:"flex-end"};function _(e){var t=e.children,n=e.heightFull,a=e.horizontalAlign,l=e.verticalAlign,o=e.gap,i=e.style,c=Object(u.a)(e,["children","heightFull","horizontalAlign","verticalAlign","gap","style"]),s={display:"flex",height:n?"100%":"none"};return a in N&&(s.justifyContent=N[a]),l in k&&(s.alignItems=k[l]),o>0&&(t=t.map((function(e,t){if(t>0){var n,a,l=null!==(n=null===e||void 0===e||null===(a=e.props)||void 0===a?void 0:a.style)&&void 0!==n?n:{};return r.a.cloneElement(e,{key:t,style:Object(h.a)({marginLeft:o},l)})}return r.a.cloneElement(e,{key:t})}))),r.a.createElement("div",Object.assign({style:Object(h.a)(Object(h.a)({},s),i)},c),t)}function I(){var e=function(){var e,t=Object(a.useContext)(j).state;return""!==(null===t||void 0===t||null===(e=t.student)||void 0===e?void 0:e.name)}(),t=function(){var e=Object(a.useContext)(j).setState,t=Object(O.f)();return function(){var n=p();e((function(e){var t=e.sessions.filter((function(t){return t.id!==e.student.currentSessionId})),a={id:n,startAt:(new Date).toISOString(),endAt:null,questions:S(e.student.config),answers:[]},r={student:Object(h.a)({},e.student),sessions:[].concat(Object(b.a)(t),[a])};return r.student.currentSessionId=a.id,r})),t.push("/session/".concat(n))}}(),n=function(){var e,t=Object(a.useContext)(j).state,n=null===t||void 0===t||null===(e=t.sessions)||void 0===e?void 0:e.filter((function(e){return e.id===t.student.currentSessionId}));return(null===n||void 0===n?void 0:n.length)>0?n[0]:null}(),l=function(){var e=Object(a.useContext)(j).state;return e.sessions&&e.sessions.length>0?e.sessions[e.sessions.length-1].id:null}(),o=Object(O.f)(),i=Object(a.useCallback)((function(){null!==n?confirm("This will delete current active session and start a new one ")&&t():t()}),[n,t]),u=null===n||void 0===n?void 0:n.id,d=Object(a.useCallback)((function(){o.push("/session/".concat(u))}),[u,o]);return r.a.createElement(A,{horizontalAlign:"center",verticalAlign:"center",heightFull:!0},r.a.createElement(A,{horizontalAlign:"center",gap:10},r.a.createElement("img",{src:c.a,alt:"",width:200,height:200}),r.a.createElement(s,null),r.a.createElement("div",{style:{fontSize:25,marginTop:0}},"May the force be with you"),r.a.createElement(A,null,!e&&r.a.createElement(v,{to:"/register"},"Register"),e&&r.a.createElement(v,{to:"/register"},"Settings"),null!==n&&r.a.createElement(f,{onClick:d},"Continue"),null!==l&&r.a.createElement(f,{onClick:function(){return o.push("/session/".concat(l))}},"Last Score"),e&&r.a.createElement(f,{onClick:i},"New"))))}var R=n(13),q=n.n(R);function Q(e){var t=e.style,n=e.label,l=e.value,o=e.onChange,i=e.autoCaps,c=void 0!==i&&i,s=Object(u.a)(e,["style","label","value","onChange","autoCaps"]),d=Object(a.useState)(l),m=Object(E.a)(d,2),g=m[0],f=m[1];Object(a.useEffect)((function(){f(l)}),[l]);var v=Object(a.useCallback)((function(e){var t=e.target.value;t=c?t.toUpperCase():t,o?o({value:t,oldVal:g}):f(t)}),[c,g,o]);return r.a.createElement("label",{className:q.a.root,style:t},r.a.createElement("div",{className:q.a.label},n),r.a.createElement("input",Object.assign({className:q.a.input},s,{value:g,onChange:v})))}function z(e){var t=e.style,n=e.label,l=e.value,o=e.onChange,i=Object(u.a)(e,["style","label","value","onChange"]),c=Object(a.useState)(l),s=Object(E.a)(c,2),d=s[0],m=s[1];Object(a.useEffect)((function(){m(l)}),[l]);var g=Object(a.useCallback)((function(e){var t=parseInt(e.target.value);o?o({value:t,oldVal:d}):m(t)}),[d,o]);return r.a.createElement("label",{className:q.a.root,style:t},r.a.createElement("div",{className:q.a.label},n),r.a.createElement("input",Object.assign({className:q.a.input,type:"number",style:{textAlign:"right"}},i,{value:d,onChange:g})))}var T=n(18),F=n.n(T);function M(e){var t=e.children,n=e.contentProps,a=t.filter((function(e){return!(e.type===P)})),l=t.filter((function(e){return e.type===P})),o=l.length>0;return r.a.createElement("div",{className:F.a.root},r.a.createElement("div",Object.assign({className:F.a.content},n),a),o&&l)}var B={left:"flex-start",right:"flex-end",center:"center"};function P(e){var t=e.children,n=e.align,a=void 0===n?"left":n;return r.a.createElement("div",{className:F.a.actions,style:{justifyContent:B[a]}},t)}M.Actions=P;var D=M;function J(e){var t=e.grow,n=void 0===t?1:t;return r.a.createElement("div",{style:{flexGrow:n}})}var H=n(29),L=n(30),U={info:"green",warning:"yellow",error:"red"};function K(e){var t=e.style,n=e.notification,a=n.message,l=n.closeNotification,o=(n.id,n.type),i={padding:"5px 10px 10px 10px",color:"white",backgroundColor:U[o],borderRadius:5,fontSize:"1.8rem",boxShadow:"0px 5px 3px -3px rgba(0,0,0,0.3)"};return r.a.createElement(_,{style:Object(h.a)(Object(h.a)({},t),i),gap:10,verticalAlign:"center"},r.a.createElement("div",null,a),r.a.createElement(H.a,{icon:L.a,size:"1x",style:{cursor:"pointer"},onClick:l}))}var V=[],X=Object(a.createContext)();function G(e){var t=e.children,n=Object(a.useState)(V),l=Object(E.a)(n,2),o=l[0],i=l[1];return r.a.createElement(X.Provider,{value:{notifications:o,setNotifications:i}},t,r.a.createElement(A,{style:{position:"fixed",top:10,width:"100%"},gap:5,horizontalAlign:"center"},o.map((function(e){return r.a.createElement(K,{key:e.id,notification:e})}))))}function W(){var e,t,n,l,o,i,c,s,u,d,m,g,v,x,y,S=Object(a.useState)(1),C=Object(E.a)(S,2),w=C[0],N=C[1],k=Object(a.useContext)(j).state.student,I=Object(a.useState)(k),R=Object(E.a)(I,2),q=R[0],T=R[1],F=function(){var e=Object(a.useContext)(X).setNotifications,t=Object(a.useCallback)((function(t){var n=t.message,a=t.type,r=p(),l=function(){e((function(e){return e.filter((function(e){return e.id!==r}))}))};return e((function(e){return[].concat(Object(b.a)(e),[{id:r,message:n,type:a,closeNotification:l}])})),l}),[e]);return{info:function(e){return t({message:e,type:"info"})},warning:function(e){return t({message:e,type:"warning"})},error:function(e){return t({message:e,type:"error"})}}}(),M=function(){var e=Object(a.useContext)(j).setState;return function(t){return e((function(e){return Object(h.a)(Object(h.a)({},e),{},{student:t})}))}}(),B=Object(O.f)(),P=Object(a.useCallback)((function(e){return function(t){var n=t.value;T((function(t){var a=Object(h.a)({},t),r=e.split("."),l=r.length,o=a;return r.forEach((function(e,t){t<l-1&&(o=o[e])})),o[r[r.length-1]]=n,a}))}}),[]),H=null===q||void 0===q||null===(e=q.name)||void 0===e?void 0:e.length,L=null===q||void 0===q||null===(t=q.email)||void 0===t?void 0:t.length,U=null===q||void 0===q||null===(n=q.config)||void 0===n||null===(l=n.questionsRange)||void 0===l?void 0:l.start,K=null===q||void 0===q||null===(o=q.config.questionsRange)||void 0===o?void 0:o.end,V=null===q||void 0===q||null===(i=q.config)||void 0===i?void 0:i.totalSums,G=null===q||void 0===q||null===(c=q.config)||void 0===c?void 0:c.totalQuestionsEachSum,W=null===q||void 0===q||null===(s=q.config)||void 0===s?void 0:s.percentageOfQuestionInNegative,Y=Object(a.useCallback)((function(){switch(w){case 1:return H>0||(F.error("Name should not be empty"),!1);case 2:return L>0||(F.error("Email should not be empty"),!1);case 3:return U>0?K>0?!(K<U)||(F.error("Range `End value` should be greater than `Start value`"),!1):(F.error("Range `End value` should be greater than 0"),!1):(F.error("Range `Start value` should be greater than 0"),!1);case 4:return V>0||(F.error("`Total Sums` should be greater than 0"),!1);case 5:return G>0||(F.error("`Total Questions each Sums` should be greater than 0"),!1);case 6:return W>=0&&W<=100||(F.error("`Percentae of Negative Questions` should be between than 0 to 100"),!1);default:return!0}}),[L,H,F,w,W,K,U,G,V]),Z=Object(a.useCallback)((function(e){Y()&&N(w+(e?1:-1))}),[w,Y]),$=Object(a.useCallback)((function(){M(q),B.push("/")}),[B,q,M]);return r.a.createElement(D,null,r.a.createElement(A,{heightFull:!0,verticalAlign:"center",style:{padding:"1rem"}},1===w&&r.a.createElement(Q,{placeholder:"Name",autoCaps:!1,label:"Enter your Name",value:q.name,onChange:P("name")}),2===w&&r.a.createElement(Q,{type:"email",autoCaps:!1,placeholder:"Email",label:"Enter your E-Mail",value:q.email,onChange:P("email")}),3===w&&r.a.createElement(_,{gap:10,horizontalAlign:"center"},r.a.createElement(z,{label:"Start Range",value:null===q||void 0===q||null===(u=q.config)||void 0===u||null===(d=u.questionsRange)||void 0===d?void 0:d.start,onChange:P("config.questionsRange.start")}),r.a.createElement(z,{label:"End Range",value:null===q||void 0===q||null===(m=q.config)||void 0===m||null===(g=m.questionsRange)||void 0===g?void 0:g.end,onChange:P("config.questionsRange.end")})),4===w&&r.a.createElement(z,{label:"Total Sums",value:null===q||void 0===q||null===(v=q.config)||void 0===v?void 0:v.totalSums,onChange:P("config.totalSums")}),5===w&&r.a.createElement(z,{label:"Total Questions Each Sum",value:null===q||void 0===q||null===(x=q.config)||void 0===x?void 0:x.totalQuestionsEachSum,onChange:P("config.totalQuestionsEachSum")}),6===w&&r.a.createElement(z,{label:"Percentage of Negative Questions",value:null===q||void 0===q||null===(y=q.config)||void 0===y?void 0:y.percentageOfQuestionInNegative,onChange:P("config.percentageOfQuestionInNegative")})),r.a.createElement(D.Actions,{align:"center"},1!==w&&r.a.createElement(f,{onClick:function(){return Z(!1)}},"Back"),r.a.createElement(J,null),w<6&&r.a.createElement(f,{onClick:function(){return Z(!0)}},"Next"),6===w&&r.a.createElement(f,{onClick:function(){return $()}},"Save")))}var Y=n(15),Z=n.n(Y),$=n(31),ee=n.n($),te=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];function ne(e){return e<70?"rgba(122,41,123,0.8)":e<80?"rgba(41,100,123,0.8)":e<90?"rgba(122,123,41,0.8)":e<100?"rgba(181,182,47,0.8)":100===e?"rgba(208,162,30,0.8)":void 0}function ae(e){var t=e.session,n=Object(O.f)(),a=t.answers.filter((function(e){return e.isCorrect})).length/t.answers.length*100;return r.a.createElement(D,null,r.a.createElement(_,{verticalAlign:"bottom"},r.a.createElement("div",{style:{fontSize:"3rem",marginBottom:"1rem"}},"Report"),r.a.createElement(J,null),r.a.createElement("span",null,r.a.createElement("div",{style:{fontSize:"5rem",border:"3px dashed ".concat(ne(a)),borderRadius:150,width:150,height:150,textAlign:"center",paddingTop:13,color:ne(a),boxShadow:"inset 0px 0px 80px 10px ".concat(ne(a)),margin:10}},a.toFixed(0)),r.a.createElement("div",{style:{textAlign:"center",fontSize:"1.5rem",marginBottom:"1rem"}},function(e){return e<70?"Nice Try":e<80?"Terrific":e<90?"Fantastic":e<100?"Fabulous":100===e?"Spectacular":void 0}(a)," !!")),r.a.createElement(J,null),r.a.createElement("div",{style:{fontSize:"1.5rem",marginBottom:"1rem"}},function(e){var t=function(e){return e<=9?"0".concat(e):e.toString()};return"".concat(t(e.getDate()),"-").concat(te[e.getMonth()+1],"-").concat(e.getFullYear()," ").concat(t(e.getHours()),":").concat(t(e.getMinutes()))}(new Date(t.startAt)))),r.a.createElement("div",null,r.a.createElement("table",{className:ee.a.table},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("td",{style:{textAlign:"center"}},"No"),r.a.createElement("td",{style:{width:"100%",textAlign:"right",padding:5}},"Question"),r.a.createElement("td",null,"Total"),r.a.createElement("td",null,"Answer"),r.a.createElement("td",{style:{whiteSpace:"nowrap"}},"Time (Seconds)"))),r.a.createElement("tbody",null,t.questions.map((function(e,n){var a=t.answers[n],l=a.timeTakenInMs,o=a.answer,i=a.expected,c=a.isCorrect;return r.a.createElement("tr",{"data-isCorrect":c},r.a.createElement("td",{style:{textAlign:"center"}},n+1),r.a.createElement("td",{style:{textAlign:"right"}},e.join(", ")),r.a.createElement("td",{style:{textAlign:"center"}},i),r.a.createElement("td",{style:{textAlign:"center"}},o),r.a.createElement("td",{style:{textAlign:"center",whiteSpace:"nowrap"}},"".concat((l/1e3).toFixed(2))))}))))),r.a.createElement(D.Actions,null,r.a.createElement(J,null),r.a.createElement(f,{onClick:function(){return n.push("/")}},"Home")))}function re(e){var t=e.currentActiveSession,n=t.answers.length,l=t.questions[n]||[],o=function(e,t){var n=Object(a.useContext)(j).setState,r=new Date;return Object(a.useCallback)((function(a){n((function(n){var l=n.sessions.filter((function(t){return t.id===e}))[0];if(l&&l.questions&&l.questions.length>t){var o=l.questions[t];a=parseInt(a);var i=o.reduce((function(e,t){return e+t}),0),c=new Date,s={answer:a,expected:i,isCorrect:a===i,timeTakenInMs:c.getTime()-r.getTime(),takenAt:r.toISOString(),answerAt:c.toISOString()},u=Object(h.a)(Object(h.a)({},l),{},{answers:[].concat(Object(b.a)(l.answers),[s])}),d=u.questions.length===u.answers.length;u.endAt=d?c.toISOString():null;var m=n.sessions.indexOf(l);return{student:Object(h.a)(Object(h.a)({},n.student),{},{currentSessionId:d?null:n.student.currentSessionId}),sessions:[].concat(Object(b.a)(n.sessions.slice(0,m)),[u],Object(b.a)(n.sessions.slice(m+1,n.sessions.length)))}}return n}))}),[t,e,n,r])}(t.id,n),i=Object(a.useRef)(),c=Object(a.useState)(24),s=Object(E.a)(c,2),u=s[0],d=s[1],m={fontSize:u},g=Object(a.useRef)();Object(a.useEffect)((function(){var e=i.current.offsetHeight;d((e-50)/(l.length+1))}),[l.length]);var v=Object(a.useCallback)((function(e){13===e.keyCode&&o(g.current.value)}),[g,o]);return Object(a.useEffect)((function(){g.current.value=""}),[g,n]),r.a.createElement(D,null,r.a.createElement("label",{style:{width:"100%",height:"100%"}},r.a.createElement(_,{style:{height:"100%"}},r.a.createElement("div",{className:Z.a.content},r.a.createElement("div",{ref:i,className:Z.a.question,style:m},l.map((function(e,t){return r.a.createElement("div",{key:t},e)}))),r.a.createElement("input",{ref:g,type:"number",className:Z.a.number,style:{fontSize:u},autoFocus:!0,min:0,placeholder:"0",onKeyDown:v})),r.a.createElement("div",{style:{width:"30vw",borderLeft:"1px dashed rgba(0,0,0,0.5)"}}))),r.a.createElement(D.Actions,null,r.a.createElement(J,null),r.a.createElement(f,{onClick:function(){return o(g.current.value)}},"Next")))}function le(){var e=function(e){var t,n=Object(a.useContext)(j).state,r=null===n||void 0===n||null===(t=n.sessions)||void 0===t?void 0:t.filter((function(t){return t.id===e}));return(null===r||void 0===r?void 0:r.length)>0?r[0]:null}(Object(O.g)().sessionId),t=e.answers.length===e.questions.length;return r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(re,{currentActiveSession:e}),t&&r.a.createElement(ae,{session:e}))}function oe(){return r.a.createElement(g.a,null,r.a.createElement(y,null,r.a.createElement(G,null,r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/register"},r.a.createElement(W,null)),r.a.createElement(O.a,{path:"/session/:sessionId"},r.a.createElement(le,null)),r.a.createElement(O.a,{path:"/"},r.a.createElement(I,null))))))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.7f59e9aa.chunk.js.map